from BaiduPan import BaiDuPan
from DbHelper import DbHelper
from GameSpider import GameSpider


def sava_game():
    res = db.query('select * from game where share_code is not null limit 10')
    for game in res:
        print(baidu.save_share(game['share_link'], game['share_code'], '/data'))
        # 存到哪个号， 哪个路径下
        # 是否全都新建一个文件夹
        pass


if __name__ == '__main__':
    baidu_cookie = 'BIDUPSID=C92F406CEACAB4768D6E102D1D7D138C; PSTM=1619435971; __yjs_duid=1_24652996423433c6fac03828ec50d61b1619439208725; pan_login_way=1; PANWEB=1; MCITY=-75:; csrfToken=Y38B9gZ4hmS2ZwLIcdZPwTyY; Hm_lvt_fa0277816200010a74ab7d2895df481b=1639800377; Hm_lpvt_fa0277816200010a74ab7d2895df481b=1639800487; BAIDUID=FD251FE62A14AA0B69A86A3E7F8FC3C5:FG=1; BDCLND=NSCcU4kDz3r341fO/rYYSXZBOmBq0+88K9Z2XnLJ0V8=; delPer=0; BAIDUID_BFESS=FD251FE62A14AA0B69A86A3E7F8FC3C5:FG=1; PSINO=2; ZD_ENTRY=baidu; BAIDU_WISE_UID=wapp_1640101982808_568; BCLID=8632690060128000410; BDSFRCVID=mWDOJexroG04LNRHz03IMGbdBdNbUdrTDYrEQ-mAp1wm6V8VJeC6EG0Pts1-dEu-EHtdogKKXgOTHw0F_2uxOjjg8UtVJeC6EG0Ptf8g0M5; H_BDCLCKID_SF=tbCjoCP2tC83qJomjKTVhPDO5fneetJyaR3C5qQvWJ5TMCo6X-rAbhDnMP5mt5jvJg7xQCjIbl3DShPC-tPbMTFEMn5RQUR-bCoO0l7V3l02VMO9e-t2yT0VKx7LK4RMW23v0h7mWP02sxA45J7cM4IseboJLfT-0bc4KKJxbnLWeIJIjjCKjTJLeH-HtTnfb5kXWnTaanTHDR3n-tTVhnQH-UnLqbcl3eOZ0l8Kttn8enja-U7OL6KRDRAJ3Mb72IL8VUomWIQHDUTDBpKaylKwMboaQlcTt2j4KKJxB4PWeIJoLt5F0T01hUJiBhvMBan7LKJIXKohJh7FM4tW3J0ZyxomtfQxtNRJ0DnjtnLhbC8mD6LajjQBep78tK6Bb6Q0XnT8MR7_eTrnhPF3Mq3QXP6-35KHyDrphCblWIjxsfOVMtI5KPr0MHO8Ql37JD6y0CLhatoKbKbhQhQNKRIy-toxJpO3BRbMopvaBl7Foh5vbURvW--g3-7fJU5dtjTO2bc_5KnlfMQ_bf--QfbQ0hOhqP-j5JIEoK--tCDhMDLr2bubq4I02xrOa468aKoMsJOOaCkVHqvOy4oTj6Dl-RjkJTQ7tGn4bqTVaDO5MIQyDqr_3MvB-fPeQpOUtHRPQhP2LljKJ4OPQft20-kIeMtjBbQuB2ovKR7jWhviep72ybt2QlRX5q79atTMfNTJ-qcH0KQpsIJM5-DWbT8EjHCDqbOKatoa3RTeb6rjDnCrhqJUXUI82h5y058JBgoNaPFMthTYsnogL4OF-lLOKRORXRj4L4jL54thbbC-SCnKy4oTjxL1Db3Jb5_L5gTtsl5dbnboepvoW-Jc3MkWD-jdJJQOBKQB0KnGbUQkeq8CQft20b0EeMtjW6LEK5r2SCKatKPa3H; BCLID_BFESS=8632690060128000410; BDSFRCVID_BFESS=mWDOJexroG04LNRHz03IMGbdBdNbUdrTDYrEQ-mAp1wm6V8VJeC6EG0Pts1-dEu-EHtdogKKXgOTHw0F_2uxOjjg8UtVJeC6EG0Ptf8g0M5; H_BDCLCKID_SF_BFESS=tbCjoCP2tC83qJomjKTVhPDO5fneetJyaR3C5qQvWJ5TMCo6X-rAbhDnMP5mt5jvJg7xQCjIbl3DShPC-tPbMTFEMn5RQUR-bCoO0l7V3l02VMO9e-t2yT0VKx7LK4RMW23v0h7mWP02sxA45J7cM4IseboJLfT-0bc4KKJxbnLWeIJIjjCKjTJLeH-HtTnfb5kXWnTaanTHDR3n-tTVhnQH-UnLqbcl3eOZ0l8Kttn8enja-U7OL6KRDRAJ3Mb72IL8VUomWIQHDUTDBpKaylKwMboaQlcTt2j4KKJxB4PWeIJoLt5F0T01hUJiBhvMBan7LKJIXKohJh7FM4tW3J0ZyxomtfQxtNRJ0DnjtnLhbC8mD6LajjQBep78tK6Bb6Q0XnT8MR7_eTrnhPF3Mq3QXP6-35KHyDrphCblWIjxsfOVMtI5KPr0MHO8Ql37JD6y0CLhatoKbKbhQhQNKRIy-toxJpO3BRbMopvaBl7Foh5vbURvW--g3-7fJU5dtjTO2bc_5KnlfMQ_bf--QfbQ0hOhqP-j5JIEoK--tCDhMDLr2bubq4I02xrOa468aKoMsJOOaCkVHqvOy4oTj6Dl-RjkJTQ7tGn4bqTVaDO5MIQyDqr_3MvB-fPeQpOUtHRPQhP2LljKJ4OPQft20-kIeMtjBbQuB2ovKR7jWhviep72ybt2QlRX5q79atTMfNTJ-qcH0KQpsIJM5-DWbT8EjHCDqbOKatoa3RTeb6rjDnCrhqJUXUI82h5y058JBgoNaPFMthTYsnogL4OF-lLOKRORXRj4L4jL54thbbC-SCnKy4oTjxL1Db3Jb5_L5gTtsl5dbnboepvoW-Jc3MkWD-jdJJQOBKQB0KnGbUQkeq8CQft20b0EeMtjW6LEK5r2SCKatKPa3H; BDUSS=83dFNoOW81ZDVIMjdndlFZWlR5UXJ0NHRqWUV6N01mV0ZlSnFnbFlpbnNGdlJoSVFBQUFBJCQAAAAAAQAAAAEAAACu-jBWtPPOsrDNM2hhbwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOyJzGHsicxhZ0; BDUSS_BFESS=83dFNoOW81ZDVIMjdndlFZWlR5UXJ0NHRqWUV6N01mV0ZlSnFnbFlpbnNGdlJoSVFBQUFBJCQAAAAAAQAAAAEAAACu-jBWtPPOsrDNM2hhbwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOyJzGHsicxhZ0; STOKEN=b340c83787b192c191fa95ed49b60eaa294e6298f7227c7b681e8d0f1cb59ba0; BDRCVFR[feWj1Vr5u3D]=I67x6TjHwwYf0; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; H_PS_PSSID=35638_35106_31254_35457_34584_35490_35246_35695_35642_35317_26350_35474_35558; BA_HECTOR=ak2080840hal258ljv1gsvfrp0q; Hm_lvt_7a3960b6f067eb0085b7f96ff5e660b0=1639826119,1639887955,1641004399,1641004972; Hm_lpvt_7a3960b6f067eb0085b7f96ff5e660b0=1641004972; PANPSC=17168378876267144570:Kkwrx6t0uHD8oUc/y89Y3BoU7DKe/cDJPte2imWG2X7Ld28VUR8tXXpR1A/QFbfQh8e57zgMOk4TOHQ48QXZaTEtb2PuZJw8D+WzhDuLxuKhdffKqBGRN96meYGUss/GjTSP66eFQ9ExrmmQowLs1mKmXcvc2dd5a7opy+Oal1MBq4RltvI7LWtd3K3d2bgIJDCABb9nWGTrbkBUnMiFfw==; ndut_fmt=7D856246A5BFD8CEC01CA9FBB95701B6E87F83B06C983A6FBA4A1C352E60A7BC'
    db = DbHelper(None, None, None, None)
    with open('game_cookie.txt') as cookie_file:
        game_cookie = cookie_file.readline()
    baidu = BaiDuPan(baidu_cookie)
    game_spider = GameSpider(game_cookie,db)
    game_spider.save()
    # sava_game()